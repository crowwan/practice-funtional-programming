## 함수형 사고를 위한 접근 방식

함수형 프로그래머는 직감적으로 코드를 세 분류로 나눈다.

1. 액션(Action)
2. 계산(Calculation)
3. 데이터(Data)

`액션`은 언제, 얼만큼 호출하는지에 따라 결과가 달라질 수 있는 코드로, 신중하게 호출해야 한다.
`계산`은 액션과 다르게 같은 인자로 호출되면 언제나 같은 결과를 얻을 수 있는 코드다. 단, 계산은 실행하기 전까지 어떻게 동작할 지 알 수 없다.
`데이터`는 실행 가능하지 않고, 정적인 코드다.

위와 같이 액션, 계산 그리고 데이터를 구분하는 것이 함수형 프로그래밍의 기본 개념이 된다. 일반적으로 **액션보다 계산이 쓰기 쉽고, 계산 보다는 데이터가 쓰기 쉽다**고 한다.

## 한 번 구분해보자

여러 클라이언트가 작업 완료 표시를 하면 서버에서 이메일을 통해 알려주는 서비스를 함수형 프로그래밍 관점에서 액션, 계산, 데이터로 구분해보자.

1. 사용자가 작업 완료 표시를 함
   - 실행 횟수에 의존하기 때문에 액션이다.
2. 클라이언트가 서버로 메시지를 보냄
   - 메시지를 보내는 것도 액션이다. 다만, 메시지 자체는 서버에서 해석할 값이므로 데이터다.
3. 서버가 메시지를 받음
   - 메시지를 받는 것은 횟수에 의존하므로 액션이다.
4. 서버거 데이터베이스를 변경
   - 내부 상태를 변경하는 것도 액션이다.
5. 서버가 누구에게 알림을 보낼지 결정
   - 결정하는 것은 계산이다. 입력이 같다면 항상 같은 결정을 내린다.
6. 서버가 이메일로 알림을 보냄
   - 이메일을 보내는 것도 횟수에 의존하므로 액션이다.

## 액션, 계산, 데이터의 특징은?

### 액션

액션은 실행 시점이나 횟수 또는 둘 다에 의존한다. 그렇기 때문에 액션을 적절하게 다루어야 한다. **시간이 지남에 따라 안전하게 상태를 바꿔**야하고, **순서를 보장**하거나, 액션이 **정확하게 한 번만 실행하게 보장**해야 한다.

### 계산

계산은 입력값으로 출력값을 만드는 것이다. 같은 입력이면 언제나 같은 결과를 도출한다. 외부에 영향을 주지 않으므로 테스트하기 쉽고 언제든지 몇 번을 호출해도 안전하다. 계산을 잘 활용하기 위해서는 **정확성을 위한 정적인 분석**이 필요하고, **소프트웨어에서 쓸 수 있는 수학적 지식을 사용**하며, **테스트 전략**을 잘 세워야 한다.

### 데이터

데이터는 이벤트에 대해 기록한 사실이다. 실행하지 않아도 데이터 자체로 의미를 가진다. 또, 같은 데이터를 여러 형태로 해석할 수 있다. 예를 들어, 레스토랑에서 발행한 영수증 데이터는 인기 메뉴를 찾기 위해 쓸 수 있고, 외식비 지출 내역을 알아보기 위해 쓸 수 있다. 데이터를 **효율적으로 접근하기 위해 구성하는 방법을 고민**하고, 데이터를 **잘 보관하는 기술이 필요**하며, 데이터를 이용해 **어떤 중요한 것을 발견**할 수 있어야 한다.
